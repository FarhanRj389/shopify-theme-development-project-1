<style>
.product-page {
  display: flex;
  gap: 40px;
  margin: 40px auto;
  align-items: flex-start;
}
.product-image img {
  display: block;
  max-width: 100%;
  max-height: 100%;
}
.product-details {
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
}
.product-title {
  margin-bottom: 10px;
}
.product-price {
  font-weight: bold;
  margin-bottom: 15px;
}
.product-description {
  margin-top: 20px;
  line-height: 1.6;
}
.add-to-cart-btn {
  border: none;
  cursor: pointer;
  transition: 0.3s;
}
.add-to-cart-btn:hover {
  opacity: 0.85;
}
@media (max-width: 700px) {
    .product-page {
        flex-direction: column;
        gap: 24px;
        align-items: center;
    }
    .product-image img {
        width: 100%;
        height: auto;
        max-width: 350px;
    }
    .product-details {
        align-items: center;
        width: 100%;
        text-align: center;
    }
}
</style>

<div class="container">
    <div class="product-page">
        <div class="product-image">
            <img 
              src="{{ product.selected_or_first_available_variant.image | default: product.featured_image | image_url: width: 800, height: 800 }}"  
              alt="{{ product.title }}"
              width="{{ section.settings.image_width | default: 400 }}"
              height="{{ section.settings.image_height | default: 400 }}"         
            >
        </div>

        <div class="product-details">
          {% for block in section.blocks %}
            {% case block.type %}
              {% when 'title' %}
                <h1 class="product-title">{{ product.title }}</h1>
              {% when 'description' %}
                <div class="product-description">{{ product.description | strip_html | truncatewords }}</div>
              {% when 'price' %}
                <div class="product-price">{{ product.price | money }}</div>
              {% when 'add_to_cart_button' %}
                <product-form 
                    variant-id="{{ product.selected_or_first_available_variant.id }}"
                    product-handle="{{ product.handle }}"
                >
                  <script type="application/json" id="product-variants-json">
                    {{ product.variants | json }}
                  </script>

                  {% form 'product', product %}
                    {%  if product.has_only_default_variant %}
                        <input type="hidden" name="id" value="{{ product.selected_or_first_available_variant.id }}">
                    {% else %}
                        {% for variant in product.variants %}
                            <label>
                                <input type="radio" name="id" value="{{ variant.id }}" {% if variant == product.selected_or_first_available_variant %}checked{% endif %}>
                                <span>{{ variant.title }}</span>
                            </label>
                        {% endfor %}
                    {% endif %}
                    <button type="submit" class="button add-to-cart">Add to Cart</button>
                  {% endform %}
                </product-form>
            {% endcase %}
          {% endfor %}
        </div>
    </div>
</div>

{% schema %}
{
  "name": "Main Product",
  "tag": "section",
  "blocks": [
    {
      "type": "@app"
    },
    {
      "type": "title",
      "name": "Title"
    },
    {
      "type": "price",
      "name": "Price"
    },
    {
      "type": "description",
      "name": "Description"
    },
    {
      "type": "add_to_cart_button",
      "name": "Add to Cart Button"
    }
  ],
  "presets": [
    {
      "name": "Main Product"
    }
  ]
}
{% endschema %}
